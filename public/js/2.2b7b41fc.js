(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[2],{"0f05":function(a,t,i){"use strict";i("992d")},3640:function(a,t,i){"use strict";i.d(t,"a",(function(){return n}));var e=i("7338"),o=i.n(e);const s=window.location.href,d=s.split("/"),c=d[0]+"//"+d[2],n=o.a.create({baseURL:c,timeout:9e4,withCredentials:!0,headers:{"Content-Type":"application/json"}})},"3b3e":function(a,t,i){},"3c1c":function(a,t,i){"use strict";function e(a){const t=a.split("-")[0],i=a.split("-")[1],e=a.split("-")[2];return("0"+e).slice(-2)+"/"+("0"+i).slice(-2)+"/"+t}function o(a){const t=a.split("/")[0],i=a.split("/")[1],e=a.split("/")[2];return e+"-"+("0"+i).slice(-2)+"-"+("0"+t).slice(-2)}function s(a,t){if(10!==a.length||10!==t.length)return!0;const i=new Date(a),e=new Date(t);return i>e}i.d(t,"b",(function(){return e})),i.d(t,"c",(function(){return o})),i.d(t,"a",(function(){return s}))},"992d":function(a,t,i){},b1fe:function(a,t,i){"use strict";i.r(t);var e=function(){var a=this,t=a.$createElement,i=a._self._c||t;return i("div",[a.edit?a._e():i("h2",{staticClass:"items-center"},[a._v(a._s(a.nomeDoProjeto))]),a.edit?i("h2",{staticClass:"items-center"},[i("q-input",{attrs:{label:"Standard"},model:{value:a.nomeDoProjeto,callback:function(t){a.nomeDoProjeto=t},expression:"nomeDoProjeto"}})],1):a._e(),a.edit?a._e():i("q-item-label",{attrs:{caption:""}},[a._v(a._s(a.descrição))]),a.edit?i("h2",{staticClass:"items-center"},[i("q-input",{attrs:{label:"Standard"},model:{value:a.descrição,callback:function(t){a.descrição=t},expression:"descrição"}})],1):a._e(),i("div",{staticClass:"row"},[i("q-input",{staticClass:"col-3",attrs:{disable:!a.edit,mask:"##/##/####","fill-mask":"",outlined:"",label:"Data Início"},model:{value:a.dataInicio,callback:function(t){a.dataInicio=t},expression:"dataInicio"}}),i("q-input",{staticClass:"col-3",attrs:{disable:!a.edit,mask:"##/##/####","fill-mask":"",outlined:"",label:"Data de fim"},model:{value:a.dataFim,callback:function(t){a.dataFim=t},expression:"dataFim"}}),i("q-btn-group",[a.edit?i("q-btn",{attrs:{color:"secondary",label:"Salvar"},on:{click:a.editarProjeto}}):a._e(),a.edit?a._e():i("q-btn",{attrs:{color:"secondary",label:"Editar"},on:{click:function(t){a.edit=!a.edit}}})],1)],1),i("q-separator",{staticStyle:{"margin-top":"1%"}}),i("div",{staticClass:"row"},[a._l(a.atividades,(function(a){return i("span",{key:a.id},[i("CardAtividade",{attrs:{atividade:a}})],1)})),i("CardAtividadeCreate",{attrs:{projetoID:a.id}})],2)],1)},o=[],s=i("3640"),d=i("3c1c"),c=function(){var a=this,t=a.$createElement,i=a._self._c||t;return i("div",{staticClass:"q-pa-md row items-start q-gutter-md"},[i("q-card",{staticClass:"my-card"},[i("q-card-section",[a.editar?a._e():i("div",{staticClass:"text-h5 q-mt-sm q-mb-xs"},[a._v(a._s(a.atividade.nome_da_atividade))]),a.editar?i("q-input",{staticClass:"col-12",attrs:{borderless:"",label:"nome da atividade"},model:{value:a.nomeDaAtividade,callback:function(t){a.nomeDaAtividade=t},expression:"nomeDaAtividade"}}):a._e()],1),i("q-separator"),i("q-card-section",[a.editar?a._e():i("q-item-label",{attrs:{caption:""}},[a._v(a._s(a.atividade.descrição))]),a.editar?i("q-input",{staticClass:"col-12",attrs:{borderless:"",label:"Descrição da atividade"},model:{value:a.descrição,callback:function(t){a.descrição=t},expression:"descrição"}}):a._e()],1),i("q-separator"),i("q-card-actions",[i("div",{staticClass:"row"},[i("q-input",{staticClass:"col-6",attrs:{disable:!a.editar,mask:"##/##/####","fill-mask":"",outlined:"",label:"Data Inicial"},model:{value:a.dataInicio,callback:function(t){a.dataInicio=t},expression:"dataInicio"}}),i("q-input",{staticClass:"col-6",attrs:{disable:!a.editar,mask:"##/##/####","fill-mask":"",outlined:"",label:"Data Final"},model:{value:a.dataFim,callback:function(t){a.dataFim=t},expression:"dataFim"}})],1),i("div",{staticClass:"q-gutter-sm"},[i("q-checkbox",{attrs:{disable:!a.editar,label:"Finalizado"},model:{value:a.finalizado,callback:function(t){a.finalizado=t},expression:"finalizado"}})],1),i("div",{staticClass:"row"},[a.editar?i("q-btn",{staticClass:"col-6",attrs:{color:"primary",flat:""},on:{click:a.editarAtividade}},[a._v("Salvar")]):a._e(),a.editar?a._e():i("q-btn",{staticClass:"col-6",attrs:{color:"primary",flat:""},on:{click:function(t){a.editar=!a.editar}}},[a._v("Editar")]),i("q-btn",{staticClass:"col-6",attrs:{color:"red",flat:""},on:{click:a.apagarAtividade}},[a._v("Apagar")])],1)])],1)],1)},n=[],l={name:"cardAtividade",props:{atividade:{type:Object,required:!0},projetoID:{type:Number,required:!0}},methods:{editarAtividade(){return Object(d["a"])(this.dataInicio,this.dataFim)?(console.log("datas invalidas"),void this.showNotif("Datas Invalidas")):""===this.nomeDaAtividade||""===this.dataInicio||""===this.dataFim||""===this.dataFim||""===this.finalizado?(console.log("Algum campo em branco"),void this.showNotif("Algum campo em branco")):void s["a"].put("/api/atividades/"+this.id,{nome:this.nomeDaAtividade,"descrição":this.descrição,data_inicio:Object(d["c"])(this.dataInicio),data_fim:Object(d["c"])(this.dataFim),finalizado:this.finalizado?1:0}).then((a=>{console.log(a),200===a.status&&(this.editar=!1,location.reload())})).catch((a=>{console.log(a)}))},showNotif(a){this.$q.notify({message:a,color:"red"})},apagarAtividade(){s["a"].delete("/api/atividades/"+this.id).then((a=>{console.log(a),this.fechar()})).catch((a=>{console.log(a)}))},fechar(){this.$destroy(),this.$el.parentNode.removeChild(this.$el)}},data(){return{dataFim:"",dataInicio:"",finalizado:!1,nomeDaAtividade:"","descrição":"",editar:!1,id:0}},beforeMount(){console.log(this.atividade),this.dataFim=Object(d["b"])(this.atividade.data_inicio),this.dataInicio=Object(d["b"])(this.atividade.data_fim),this.nomeDaAtividade=this.atividade.nome_da_atividade,this.descrição=this.atividade.descrição,this.finalizado=1===this.atividade.finalizado,this.id=this.atividade.id}},r=l,m=(i("efd4"),i("2877")),h=i("f09f"),u=i("a370"),v=i("27f9"),p=i("eb85"),f=i("0170"),b=i("4b7e"),q=i("8f8e"),_=i("9c40"),C=i("eebe"),g=i.n(C),j=Object(m["a"])(r,c,n,!1,null,"c6d0d808",null),k=j.exports;g()(j,"components",{QCard:h["a"],QCardSection:u["a"],QInput:v["a"],QSeparator:p["a"],QItemLabel:f["a"],QCardActions:b["a"],QCheckbox:q["a"],QBtn:_["a"]});var D=function(){var a=this,t=a.$createElement,i=a._self._c||t;return i("div",{staticClass:"q-pa-md row items-start q-gutter-md"},[i("q-card",{staticClass:"my-card"},[i("div",{staticClass:"text-h5 q-mt-sm q-mb-xs"},[a._v("Nova Atividade")]),i("q-card-section",[i("q-input",{staticClass:"col-12",attrs:{borderless:"",label:"nome da atividade"},model:{value:a.nomeDaAtividade,callback:function(t){a.nomeDaAtividade=t},expression:"nomeDaAtividade"}})],1),i("q-separator"),i("q-card-section",[i("q-input",{staticClass:"col-12",attrs:{borderless:"",label:"Descrição da atividade"},model:{value:a.descrição,callback:function(t){a.descrição=t},expression:"descrição"}})],1),i("q-separator"),i("q-card-actions",[i("div",{staticClass:"row"},[i("q-input",{staticClass:"col-6",attrs:{mask:"##/##/####","fill-mask":"",outlined:"",label:"Data Inicial"},model:{value:a.dataInicio,callback:function(t){a.dataInicio=t},expression:"dataInicio"}}),i("q-input",{staticClass:"col-6",attrs:{mask:"##/##/####","fill-mask":"",outlined:"",label:"Data Final"},model:{value:a.dataFim,callback:function(t){a.dataFim=t},expression:"dataFim"}})],1),i("div",{staticClass:"q-gutter-sm"},[i("q-checkbox",{attrs:{label:"Finalizado"},model:{value:a.finalizado,callback:function(t){a.finalizado=t},expression:"finalizado"}})],1),i("br"),i("q-btn",{staticClass:"col-12",attrs:{color:"primary",flat:""},on:{click:a.salvarAtividade}},[a._v("Salvar")])],1)],1)],1)},I=[],A={name:"cardAtividadeEdit",props:{projetoID:{type:Number,required:!0}},methods:{salvarAtividade(){return Object(d["a"])(this.dataInicio,this.dataFim)?(console.log("datas invalidas"),void this.showNotif("datas invalidas")):""===this.nomeDaAtividade||""===this.descrição||""===this.dataInicio||""===this.dataFim||""===this.finalizado||""===this.projetoID?(console.log("Algum campo em branco"),void this.showNotif("Algum campo em branco")):void s["a"].post("/api/atividades",{nome:this.nomeDaAtividade,"descrição":this.descrição,data_inicio:Object(d["c"])(this.dataInicio),data_fim:Object(d["c"])(this.dataFim),finalizado:this.finalizado,projetos_id:this.projetoID}).then((a=>{console.log(a),location.reload()})).catch((a=>{console.log(a)}))},fechar(){this.$destroy(),this.$el.parentNode.removeChild(this.$el)},showNotif(a){this.$q.notify({message:a,color:"red"})}},data(){return{nomeDaAtividade:"","descrição":"",dataInicio:"",dataFim:"",finalizado:!1,id:0}}},F=A,w=(i("0f05"),Object(m["a"])(F,D,I,!1,null,"ff01300c",null)),x=w.exports;g()(w,"components",{QCard:h["a"],QCardSection:u["a"],QInput:v["a"],QSeparator:p["a"],QCardActions:b["a"],QCheckbox:q["a"],QBtn:_["a"]});var Q={name:"informações",props:["id"],components:{CardAtividade:k,CardAtividadeCreate:x},data(){return{dataFim:"",dataInicio:"",atividades:[],projeto:{},edit:!1,nomeDoProjeto:"","descrição":""}},methods:{editarProjeto(){return this.edit=!this.edit,Object(d["a"])(this.dataInicio,this.dataFim)?(console.log("datas invalidas"),void this.showNotif("Datas Invalidas")):""===this.nomeDoProjeto||""===this.dataInicio||""===this.dataFim||""===this.descrição?(console.log("Algum campo em branco"),void this.showNotif("Algum campo em branco")):void s["a"].put("/api/projetos/"+this.id,{nome:this.nomeDoProjeto,data_inicio:Object(d["c"])(this.dataInicio),data_fim:Object(d["c"])(this.dataFim),"descrição":this.descrição}).then((a=>{console.log(a)})).catch((a=>{console.log(a)}))},getAtividades(){s["a"].get("/api/atividades/projeto/"+this.id).then((a=>{this.atividades=a.data,console.log(this.projetos)})).catch((a=>{console.log(a)}))},getProjeto(){s["a"].get("/api/projetos/"+this.id).then((a=>{this.projeto=a.data,this.dataFim=Object(d["b"])(a.data.data_fim),this.dataInicio=Object(d["b"])(a.data.data_inicio),this.nomeDoProjeto=a.data.nome_do_projeto,this.descrição=a.data.descrição})).catch((a=>{console.log(a)}))},showNotif(a){this.$q.notify({message:a,color:"red"})}},beforeMount(){this.getProjeto(),this.getAtividades()}},y=Q,z=i("e7a9"),O=Object(m["a"])(y,e,o,!1,null,null,null);t["default"]=O.exports;g()(O,"components",{QInput:v["a"],QItemLabel:f["a"],QBtnGroup:z["a"],QBtn:_["a"],QSeparator:p["a"]})},efd4:function(a,t,i){"use strict";i("3b3e")}}]);