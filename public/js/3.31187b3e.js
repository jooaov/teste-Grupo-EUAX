(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[3],{3640:function(t,o,e){"use strict";e.d(o,"a",(function(){return c}));var a=e("7338"),s=e.n(a);const i=window.location.href,r=i.split("/"),n=r[0]+"//"+r[2],c=s.a.create({baseURL:n,timeout:9e4,withCredentials:!0,headers:{"Content-Type":"application/json"}})},"3c1c":function(t,o,e){"use strict";function a(t){const o=t.split("-")[0],e=t.split("-")[1],a=t.split("-")[2];return("0"+a).slice(-2)+"/"+("0"+e).slice(-2)+"/"+o}function s(t){const o=t.split("/")[0],e=t.split("/")[1],a=t.split("/")[2];return a+"-"+("0"+e).slice(-2)+"-"+("0"+o).slice(-2)}function i(t,o){if(10!==t.length||10!==o.length)return!0;const e=new Date(t),a=new Date(o);return e>a}e.d(o,"b",(function(){return a})),e.d(o,"c",(function(){return s})),e.d(o,"a",(function(){return i}))},cfb2:function(t,o,e){"use strict";e.r(o);var a=function(){var t=this,o=t.$createElement,e=t._self._c||o;return e("div",[e("div",[e("h4",[t._v("Progresso total")]),e("q-linear-progress",{staticClass:"q-mt-sm",attrs:{rounded:"",size:"20px",value:t.porcentagem,color:"blue"}},[e("div",{staticClass:"absolute-full flex flex-center"},[e("q-badge",{attrs:{color:"white","text-color":"accent",label:t.porcentagemCampo}})],1)])],1),e("div",{staticClass:"row"},[t._l(t.projetos,(function(t){return e("CardProjeto",{key:t.id,attrs:{disabled:!0,projeto:t}})})),e("CardProjeto",{attrs:{disabled:!1}})],2)])},s=[],i=function(){var t=this,o=t.$createElement,e=t._self._c||o;return e("div",{staticClass:"q-pa-md row items-start q-gutter-md"},[e("q-card",{staticClass:"my-card"},[t.disabled?t._e():e("div",{staticClass:"text-h5 q-mt-sm q-mb-xs"},[t._v("Novo Projeto")]),e("q-card-section",[t.disabled?e("div",{staticClass:"text-h5 q-mt-sm q-mb-xs"},[t._v(t._s(t.projeto.nome_do_projeto))]):t._e(),t.disabled?t._e():e("q-input",{staticClass:"col-12",attrs:{borderless:"",label:"Nome do Projeto"},model:{value:t.nomeDoProjeto,callback:function(o){t.nomeDoProjeto=o},expression:"nomeDoProjeto"}})],1),e("q-separator"),e("q-card-section",[t.disabled?e("q-item-label",{attrs:{caption:""}},[t._v(t._s(t.projeto.descricao))]):t._e(),t.disabled?t._e():e("q-input",{staticClass:"col-12",attrs:{borderless:"",label:"Descrição do projeto"},model:{value:t.descrição,callback:function(o){t.descrição=o},expression:"descrição"}})],1),e("q-separator"),e("div",{staticClass:"row"},[e("q-input",{staticClass:"col-6",attrs:{disable:t.disabled,mask:"##/##/####","fill-mask":"",outlined:"",label:"Data Inicial"},model:{value:t.dataInicio,callback:function(o){t.dataInicio=o},expression:"dataInicio"}}),e("q-input",{staticClass:"col-6",attrs:{disable:t.disabled,mask:"##/##/####","fill-mask":"",outlined:"",label:"Data Final"},model:{value:t.dataFim,callback:function(o){t.dataFim=o},expression:"dataFim"}})],1),e("div",[!t.projeto.descricao?t._e():e("q-item-label",{staticStyle:{color:"red"}},[t._v("Atrasado")])],1),e("div",[t.disabled?e("q-linear-progress",{staticClass:"q-mt-sm",attrs:{rounded:"",size:"20px",value:t.porcentagem,color:"green"}},[e("div",{staticClass:"absolute-full flex flex-center"},[e("q-badge",{attrs:{color:"white","text-color":"accent",label:t.porcentagemCampo}})],1)]):t._e()],1),e("q-separator"),e("q-card-actions",[t.disabled?e("q-btn",{attrs:{color:"primary",flat:""},on:{click:t.finalizarProjeto}},[t._v("Finalizar")]):t._e(),t.disabled?e("q-btn",{attrs:{color:"primary",flat:""},on:{click:t.apagarProjeto}},[t._v("Apagar")]):t._e(),t.disabled?e("q-btn",{attrs:{to:{path:"/informacoes/"+this.id},color:"primary",flat:""}},[t._v("Editar/Atividades")]):t._e(),t.disabled?t._e():e("q-btn",{attrs:{color:"primary",flat:""},on:{click:t.salvarProjeto}},[t._v("Salvar")])],1)],1)],1)},r=[],n=e("3c1c"),c=e("3640"),l={name:"cardProjeto",props:["disabled","projeto"],event:"novo-projeto",data(){return{dataFim:"",dataInicio:"",finalizado:!1,nomeDoProjeto:"","descrição":"",editar:!1,porcentagem:.5,porcentagemCampo:"0%",id:0}},methods:{apagarProjeto(){c["a"].delete("/api/projetos/"+this.id).then((t=>{console.log(t),this.fechar()})).catch((t=>{console.log(t)}))},salvarProjeto(){return Object(n["a"])(this.dataInicio,this.dataFim)?(console.log("datas invalidas"),void this.showNotif("Datas Invalidas")):""===this.nomeDoProjeto||""===this.dataInicio||""===this.dataFim||""===this.descrição?(console.log("Algum campo em branco"),void this.showNotif("Algum campo em branco")):void c["a"].post("/api/projetos",{nome:this.nomeDoProjeto,data_inicio:Object(n["c"])(this.dataInicio),data_fim:Object(n["c"])(this.dataFim),descricao:this.descrição}).then((t=>{console.log(t)})).catch((t=>{console.log(t)}))},fechar(){this.$destroy(),this.$el.parentNode.removeChild(this.$el)},finalizarProjeto(){c["a"].put("/api/projetos/finalizar/"+this.id).then((t=>{console.log(t),location.reload()})).catch((t=>{console.log(t)}))},showNotif(t){this.$q.notify({message:t,color:"red"})}},beforeMount(){if(this.projeto){this.dataFim=Object(n["b"])(this.projeto.data_fim),this.dataInicio=Object(n["b"])(this.projeto.data_inicio),this.nomeDoProjeto=this.projeto.nome_do_projeto,this.descrição=this.projeto.descrição,this.finalizado=1===this.projeto.finalizada,this.id=this.projeto.id,this.porcentagem=this.projeto.porcentagem/100;const t=100*this.porcentagem;this.porcentagemCampo=t+"%"}},watch:{porcentagem:function(){const t=100*this.porcentagem;console.log("antes",t),this.porcentagemCampo=t+"%",console.log("depois",this.porcentagemCampo)}}},d=l,p=e("2877"),m=e("f09f"),h=e("a370"),u=e("27f9"),b=e("eb85"),f=e("0170"),g=e("6b1d"),j=e("58a81"),v=e("4b7e"),_=e("9c40"),C=e("eebe"),q=e.n(C),P=Object(p["a"])(d,i,r,!1,null,null,null),w=P.exports;q()(P,"components",{QCard:m["a"],QCardSection:h["a"],QInput:u["a"],QSeparator:b["a"],QItemLabel:f["a"],QLinearProgress:g["a"],QBadge:j["a"],QCardActions:v["a"],QBtn:_["a"]});var x={name:"PageIndex",components:{CardProjeto:w},data(){return{projetos:[],porcentagem:.5,porcentagemCampo:"0%"}},methods:{getProjetos(){c["a"].get("/api/projetos").then((t=>{const o=t.data.pop();this.porcentagem=o/100;const e=100*this.porcentagem;this.porcentagemCampo=e+"%",this.projetos=t.data})).catch((t=>{console.log(t)}))}},beforeMount(){this.getProjetos()}},k=x,D=Object(p["a"])(k,a,s,!1,null,null,null);o["default"]=D.exports;q()(D,"components",{QLinearProgress:g["a"],QBadge:j["a"]})}}]);